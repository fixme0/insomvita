!function(i){function e(e){for(var t,n,r=e[0],a=e[1],c=e[2],l=0,o=[];l<r.length;l++)n=r[l],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&o.push(s[n][0]),s[n]=0;for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&(i[t]=a[t]);for(p&&p(e);o.length;)o.shift()();return m.push.apply(m,c||[]),u()}function u(){for(var e,t=0;t<m.length;t++){for(var n=m[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==s[c]&&(r=!1)}r&&(m.splice(t--,1),e=l(l.s=n[0]))}return e}var n={},s={10:0},m=[];function l(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=i,l.c=n,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)l.d(n,r,function(e){return t[e]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var t=window.webpackJsonp=window.webpackJsonp||[],r=t.push.bind(t);t.push=e,t=t.slice();for(var a=0;a<t.length;a++)e(t[a]);var p=r;m.push([315,0]),u()}({187:function(e,t,n){"use strict";n.r(t),t.default={id:"back-usage",viewBox:"0 0 50 50",url:n.p+"sprite.svg#back",toString:function(){return this.url}}},280:function(e,t,n){},290:function(e,t,n){var r={"./pc.svg":291,"./phone.svg":292,"./tablet.svg":293};function a(e){var t=c(e);return n(t)}function c(e){if(n.o(r,e))return r[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return Object.keys(r)},a.resolve=c,(e.exports=a).id=290},291:function(e,t,n){"use strict";n.r(t),t.default={id:"pc-usage",viewBox:"0 0 26 21",url:n.p+"sprite.svg#pc",toString:function(){return this.url}}},292:function(e,t,n){"use strict";n.r(t),t.default={id:"phone-usage",viewBox:"0 0 12 21",url:n.p+"sprite.svg#phone",toString:function(){return this.url}}},293:function(e,t,n){"use strict";n.r(t),t.default={id:"tablet-usage",viewBox:"0 0 17 22",url:n.p+"sprite.svg#tablet",toString:function(){return this.url}}},294:function(e,t,n){"use strict";n.r(t),t.default={id:"epub-usage",viewBox:"0 0 50 50",url:n.p+"sprite.svg#epub",toString:function(){return this.url}}},295:function(e,t,n){"use strict";n.r(t),t.default={id:"pdf-usage",viewBox:"0 0 50 50",url:n.p+"sprite.svg#pdf",toString:function(){return this.url}}},296:function(e,t,n){"use strict";n.r(t),t.default={id:"ibook-usage",viewBox:"0 0 50 50",url:n.p+"sprite.svg#ibook",toString:function(){return this.url}}},297:function(e,t,n){"use strict";n.r(t),t.default={id:"minus-usage",viewBox:"0 0 11 1",url:n.p+"sprite.svg#minus",toString:function(){return this.url}}},298:function(e,t,n){"use strict";n.r(t),t.default={id:"plus-usage",viewBox:"0 0 11 11",url:n.p+"sprite.svg#plus",toString:function(){return this.url}}},302:function(e,t,n){"use strict";n.r(t),t.default={id:"author-usage",viewBox:"0 0 50 50",url:n.p+"sprite.svg#author",toString:function(){return this.url}}},303:function(e,t,n){"use strict";n.r(t),t.default={id:"delivery-usage",viewBox:"0 0 50 50",url:n.p+"sprite.svg#delivery",toString:function(){return this.url}}},304:function(e,t,n){"use strict";n.r(t),t.default={id:"payment-usage",viewBox:"0 0 50 50",url:n.p+"sprite.svg#payment",toString:function(){return this.url}}},305:function(e,t,n){"use strict";n.r(t),t.default={id:"courier-usage",viewBox:"0 0 42 42",url:n.p+"sprite.svg#courier",toString:function(){return this.url}}},306:function(e,t,n){"use strict";n.r(t),t.default={id:"novaPochta-usage",viewBox:"0 0 41 40",url:n.p+"sprite.svg#novaPochta",toString:function(){return this.url}}},307:function(e,t,n){"use strict";n.r(t),t.default={id:"ukrPochta-usage",viewBox:"0 0 28 40",url:n.p+"sprite.svg#ukrPochta",toString:function(){return this.url}}},308:function(e,t,n){"use strict";n.r(t),t.default={id:"arrow-down-usage",viewBox:"0 0 21 12",url:n.p+"sprite.svg#arrow-down",toString:function(){return this.url}}},309:function(e,t,n){"use strict";n.r(t),t.default={id:"mastercard-usage",viewBox:"0 0 26 16",url:n.p+"sprite.svg#mastercard",toString:function(){return this.url}}},310:function(e,t,n){"use strict";n.r(t),t.default={id:"visa-usage",viewBox:"0 0 52 16",url:n.p+"sprite.svg#visa",toString:function(){return this.url}}},311:function(e,t,n){"use strict";n.r(t),t.default={id:"no-usage",viewBox:"0 0 36 40",url:n.p+"sprite.svg#no",toString:function(){return this.url}}},312:function(e,t,n){"use strict";n.r(t),t.default={id:"like-usage",viewBox:"0 0 23 20",url:n.p+"sprite.svg#like",toString:function(){return this.url}}},313:function(e,t,n){"use strict";n.r(t),t.default={id:"gift-usage",viewBox:"0 0 50 50",url:n.p+"sprite.svg#gift",toString:function(){return this.url}}},314:function(e,t,n){"use strict";n.r(t),t.default={id:"gift-without-circle-usage",viewBox:"0 0 20 20",url:n.p+"sprite.svg#gift-without-circle",toString:function(){return this.url}}},315:function(e,t,T){"use strict";T.r(t);T(280);function n(){var c=Object(L.useRef)(document.createElement("script")).current;Object(L.useEffect)(function(){for(var e=0,t=[{name:"id",value:"widget-wfp-script"},{name:"language",value:"javascript"},{name:"src",value:"https://secure.wayforpay.com/server/pay-widget.js"},{name:"type",value:"text/javascript"}];e<t.length;e++){var n=t[e],r=n.name,a=n.value;c.setAttribute(r,a)}return document.head.append(c),function(){return c.remove()}},[])}var r=T(191),L=T(0),B=T.n(L),a=T(1),q=T.n(a),E=T(324),j=T(330);n.displayName="Merchant";function c(){return B.a.createElement("a",{href:"",className:"tag-preorder"},B.a.createElement("svg",{width:"192",height:"43",viewBox:"0 0 192 43",fill:"none",xmlns:"http://www.w3.org/2000/svg"},B.a.createElement("path",{className:"hover-element",d:"M191.07 14.39L177.85 26.57L191.06 42.78C171.63 38.01 165.41 38.45 157.35 38.45C149.88 38.45 146.65 39.52 146.58 39.54V11.15C146.65 11.13 149.87 10.06 157.35 10.06C165.42 10.06 171.64 9.61999 191.07 14.39Z",fill:"url(#paint10_linear)"}),B.a.createElement("path",{className:"hover-element",d:"M164.28 2.33984V30.6298L146.6 39.9998V11.7098L164.28 2.33984Z",fill:"url(#paint20_linear)"}),B.a.createElement("path",{className:"hover-element",d:"M0 0C2.1 1.12 4.5 1.76 7.05 1.76H98.43H164.27V30.16H98.42H7.05C4.55 30.16 2.08 29.52 0 28.44",fill:"url(#paint30_linear)"}),B.a.createElement("path",{d:"M23.08 20.5V11.932H29.86V20.5H28.048V13.444H24.892V20.5H23.08ZM36.9534 20.5H32.0214V11.932H36.9534V13.42H33.8334V15.304H36.7374V16.792H33.8334V19H36.9534V20.5ZM41.4723 11.932C42.5763 11.932 43.3803 12.172 43.8843 12.652C44.3963 13.124 44.6523 13.776 44.6523 14.608C44.6523 15.104 44.5483 15.572 44.3403 16.012C44.1323 16.444 43.7843 16.792 43.2963 17.056C42.8163 17.32 42.1603 17.452 41.3283 17.452H40.5483V20.5H38.7363V11.932L41.4723 11.932ZM41.3763 13.42H40.5483V15.964H41.1483C41.6603 15.964 42.0643 15.864 42.3603 15.664C42.6643 15.456 42.8163 15.124 42.8163 14.668C42.8163 13.836 42.3363 13.42 41.3763 13.42ZM51.2034 20.5H46.2714V11.932H51.2034V13.42H48.0834V15.304H50.9874V16.792H48.0834V19H51.2034V20.5ZM59.6943 11.932V18.988H60.8343V22.996H59.0823V20.5H53.7183V22.996H51.9663V18.988H52.6263C52.9303 18.388 53.2143 17.748 53.4783 17.068C53.7423 16.38 53.9783 15.616 54.1863 14.776C54.4023 13.936 54.5743 12.988 54.7023 11.932H59.6943ZM57.8823 13.444H56.1423C56.0703 13.996 55.9543 14.596 55.7943 15.244C55.6423 15.884 55.4583 16.528 55.2423 17.176C55.0263 17.816 54.7903 18.42 54.5343 18.988H57.8823V13.444ZM113.93 20.5H112.118V13.444H110.018C109.97 13.812 109.918 14.212 109.862 14.644C109.814 15.076 109.758 15.516 109.694 15.964C109.638 16.404 109.578 16.824 109.514 17.224C109.45 17.616 109.386 17.964 109.322 18.268C109.218 18.764 109.078 19.188 108.902 19.54C108.734 19.892 108.498 20.16 108.194 20.344C107.898 20.528 107.51 20.62 107.03 20.62C106.718 20.62 106.43 20.576 106.166 20.488V19C106.27 19.032 106.37 19.06 106.466 19.084C106.57 19.108 106.682 19.12 106.802 19.12C107.034 19.12 107.21 19 107.33 18.76C107.458 18.512 107.586 18.052 107.714 17.38C107.762 17.124 107.83 16.724 107.918 16.18C108.006 15.636 108.102 15 108.206 14.272C108.318 13.536 108.422 12.756 108.518 11.932H113.93V20.5ZM121.024 20.5H116.092V11.932H121.024V13.42H117.904V15.304H120.808V16.792H117.904V19H121.024V20.5ZM129.827 20.5H128.015V16.804H124.619V20.5H122.807V11.932H124.619V15.292L128.015 15.292V11.932H129.827V20.5ZM139.002 20.5H137.19V16.804H133.794V20.5H131.982V11.932L133.794 11.932V15.292H137.19V11.932H139.002V20.5ZM144.038 17.212L142.034 20.5H140.018L142.454 16.732C142.222 16.636 141.99 16.496 141.758 16.312C141.526 16.12 141.334 15.868 141.182 15.556C141.03 15.236 140.954 14.844 140.954 14.38C140.954 13.588 141.238 12.984 141.806 12.568C142.374 12.144 143.17 11.932 144.194 11.932H146.978V20.5H145.166V17.212H144.038ZM145.166 13.42H144.266C143.802 13.42 143.438 13.504 143.174 13.672C142.918 13.84 142.79 14.12 142.79 14.512C142.79 14.888 142.914 15.188 143.162 15.412C143.418 15.628 143.802 15.736 144.314 15.736H145.166V13.42Z",fill:"black"}),B.a.createElement("path",{d:"M68.0663 13.936C68.0663 14.512 67.8623 14.976 67.4543 15.328C67.0463 15.68 66.5263 15.9 65.8943 15.988V16.024C66.6783 16.104 67.2783 16.324 67.6943 16.684C68.1183 17.036 68.3303 17.496 68.3303 18.064C68.3303 18.816 68.0223 19.432 67.4063 19.912C66.7983 20.384 65.9023 20.62 64.7183 20.62C64.0703 20.62 63.4943 20.58 62.9903 20.5C62.4943 20.42 62.0623 20.304 61.6943 20.152V18.628C61.9423 18.748 62.2223 18.852 62.5343 18.94C62.8463 19.02 63.1623 19.084 63.4823 19.132C63.8023 19.172 64.0983 19.192 64.3703 19.192C65.1303 19.192 65.6783 19.084 66.0143 18.868C66.3583 18.644 66.5303 18.332 66.5303 17.932C66.5303 17.524 66.2823 17.228 65.7863 17.044C65.2903 16.852 64.6223 16.756 63.7823 16.756H62.9783V15.34H63.6983C64.3783 15.34 64.9063 15.296 65.2823 15.208C65.6583 15.12 65.9223 14.992 66.0743 14.824C66.2263 14.656 66.3023 14.456 66.3023 14.224C66.3023 13.928 66.1703 13.696 65.9063 13.528C65.6503 13.352 65.2623 13.264 64.7423 13.264C64.3023 13.264 63.8863 13.328 63.4943 13.456C63.1103 13.584 62.7503 13.752 62.4143 13.96L61.6223 12.748C62.0623 12.46 62.5503 12.232 63.0863 12.064C63.6223 11.896 64.2583 11.812 64.9943 11.812C65.9623 11.812 66.7143 12.012 67.2503 12.412C67.7943 12.812 68.0663 13.32 68.0663 13.936ZM75.1756 20.5L74.5516 18.46H71.4316L70.8076 20.5L68.8516 20.5L71.8756 11.896H74.0956L77.1316 20.5H75.1756ZM74.1196 16.936L73.4956 14.944C73.4556 14.808 73.4036 14.636 73.3396 14.428C73.2756 14.22 73.2116 14.008 73.1476 13.792C73.0836 13.576 73.0316 13.388 72.9916 13.228C72.9516 13.388 72.8956 13.588 72.8236 13.828C72.7596 14.06 72.6956 14.284 72.6316 14.5C72.5756 14.708 72.5316 14.856 72.4996 14.944L71.8876 16.936H74.1196ZM81.8407 20.5L79.7767 13.78H79.7287C79.7367 13.94 79.7487 14.18 79.7647 14.5C79.7807 14.82 79.7967 15.164 79.8127 15.532C79.8287 15.892 79.8367 16.22 79.8367 16.516V20.5H78.2167V11.932H80.6887L82.7167 18.484H82.7527L84.9007 11.932H87.3727V20.5H85.6807V16.444C85.6807 16.172 85.6847 15.86 85.6927 15.508C85.7087 15.156 85.7207 14.824 85.7287 14.512C85.7447 14.192 85.7567 13.952 85.7647 13.792H85.7167L83.5087 20.5H81.8407ZM97.313 16.204C97.313 17.092 97.165 17.868 96.869 18.532C96.581 19.188 96.137 19.7 95.537 20.068C94.937 20.436 94.169 20.62 93.233 20.62C92.305 20.62 91.537 20.436 90.929 20.068C90.329 19.7 89.881 19.184 89.585 18.52C89.297 17.856 89.153 17.08 89.153 16.192C89.153 15.304 89.297 14.532 89.585 13.876C89.881 13.22 90.329 12.712 90.929 12.352C91.537 11.984 92.309 11.8 93.245 11.8C94.173 11.8 94.937 11.984 95.537 12.352C96.137 12.712 96.581 13.224 96.869 13.888C97.165 14.544 97.313 15.316 97.313 16.204ZM91.061 16.204C91.061 17.1 91.233 17.808 91.577 18.328C91.921 18.84 92.473 19.096 93.233 19.096C94.009 19.096 94.565 18.84 94.901 18.328C95.237 17.808 95.405 17.1 95.405 16.204C95.405 15.3 95.237 14.592 94.901 14.08C94.565 13.568 94.013 13.312 93.245 13.312C92.477 13.312 91.921 13.568 91.577 14.08C91.233 14.592 91.061 15.3 91.061 16.204ZM99.0878 11.932H101.752C102.896 11.932 103.76 12.092 104.344 12.412C104.928 12.732 105.22 13.296 105.22 14.104C105.22 14.592 105.104 15.004 104.872 15.34C104.648 15.676 104.324 15.88 103.9 15.952V16.012C104.188 16.068 104.448 16.168 104.68 16.312C104.912 16.456 105.096 16.664 105.232 16.936C105.368 17.208 105.436 17.568 105.436 18.016C105.436 18.792 105.156 19.4 104.596 19.84C104.036 20.28 103.268 20.5 102.292 20.5L99.0878 20.5V11.932ZM100.9 15.328H101.956C102.484 15.328 102.848 15.244 103.048 15.076C103.256 14.908 103.36 14.664 103.36 14.344C103.36 14.016 103.24 13.78 103 13.636C102.76 13.492 102.38 13.42 101.86 13.42H100.9V15.328ZM100.9 16.768V19L102.088 19C102.632 19 103.012 18.896 103.228 18.688C103.444 18.472 103.552 18.188 103.552 17.836C103.552 17.516 103.44 17.26 103.216 17.068C103 16.868 102.604 16.768 102.028 16.768H100.9Z",fill:"#82D7F2"}),B.a.createElement("defs",null,B.a.createElement("linearGradient",{id:"paint10_linear",x1:"122.044",y1:"26.4126",x2:"181.168",y2:"26.4126",gradientUnits:"userSpaceOnUse"},B.a.createElement("stop",null),B.a.createElement("stop",{offset:"0.1217",stopColor:"white"}),B.a.createElement("stop",{offset:"0.3045",stopColor:"#F4F4F4"}),B.a.createElement("stop",{offset:"0.6916",stopColor:"#F4F4F4"}),B.a.createElement("stop",{offset:"0.864",stopColor:"white"}),B.a.createElement("stop",{offset:"1",stopColor:"#878787"})),B.a.createElement("linearGradient",{id:"paint20_linear",x1:"164.278",y1:"21.1701",x2:"146.597",y2:"21.1701",gradientUnits:"userSpaceOnUse"},B.a.createElement("stop",null),B.a.createElement("stop",{offset:"1",stopColor:"#878787"})),B.a.createElement("linearGradient",{id:"paint30_linear",x1:"158.256",y1:"15.0778",x2:"-6.0042",y2:"15.0778",gradientUnits:"userSpaceOnUse"},B.a.createElement("stop",{stopColor:"#878787"}),B.a.createElement("stop",{offset:"0.1217",stopColor:"white"}),B.a.createElement("stop",{offset:"0.3045",stopColor:"#F4F4F4"}),B.a.createElement("stop",{offset:"0.6916",stopColor:"#F4F4F4"}),B.a.createElement("stop",{offset:"0.864",stopColor:"white"}),B.a.createElement("stop",{offset:"1",stopColor:"#878787"})))))}var f=Object(L.memo)(n),l=T(13),R=T.n(l),o=T(6),i=T.n(o);c.displayName="PreorderTag";function u(e){var t=e.title,n=e.poster,r=e.subTitle,a=e.preOrder;return B.a.createElement("div",{className:"book"},B.a.createElement("img",{src:n,alt:"book name",className:"book__poster"}),B.a.createElement("p",{className:"book__title"},t,","),B.a.createElement("p",{className:"book__subTitle"},r),a&&B.a.createElement(B.a.Fragment,null,B.a.createElement("p",{className:"book__preorderText"},"немає у наявності",B.a.createElement("br",{className:"book__preorderText-br"}),"( але є ",B.a.createElement("span",{className:"book__preorderText--blue"},"передзамовлення")," )"),B.a.createElement(s,null)))}var s=Object(L.memo)(c),m={title:i.a.string.isRequired,poster:i.a.string.isRequired,subTitle:i.a.string,preOrder:i.a.bool};u.displayName="BookPoster",u.propTypes=m;function p(e){var t=e.types,r=e.onClick,n=Object(Y.b)("book.type"),a=q()(n,3),c=a[0],l=a[2].setValue,o=Object(Y.b)("payment.price"),i=q()(o,3)[2].setValue,u=c.value,s=Object(L.useMemo)(function(){return Object(d.a)(Object(b.a)(O.a,[function(e){var t=q()(e,2),n=(t[0],t[1]);return{type:n.type,price:n.price,name:n.name}}]),y.a)(t)},[t]),m=Object(L.useCallback)(function(e,t,n){n.preventDefault(),l(e),i(t),r(e,t)},[l,i]);return B.a.createElement("ul",{className:"types-list"},s.map(function(e){var t=e.name,n=e.price,r=e.type;return B.a.createElement("li",{className:"types-list-item ".concat(u===r?"active":""),key:r},B.a.createElement("a",{href:"#",className:"types-list-item__link",onClick:m.bind(null,r,n)},B.a.createElement("span",null,t),B.a.createElement("span",null,n," грн")))}))}var v=Object(L.memo)(u),Y=T(2),d=T(326),b=T(328),O=T(199),y=T(319);p.displayName="BookTypes",p.defaultProps={onClick:function(){}};function h(e){var t=e.items,n=Object(L.useMemo)(function(){return t.map(function(e){switch(e){case"epub":return{icon:T(294).default,name:e,priority:4};case"pdf":return{icon:T(295).default,name:e,priority:3};case"fb2":return{icon:T(296).default,name:e,priority:2};case"kindle":return{icon:null,name:e,priority:1};default:return null}}).filter(Boolean).sort(function(e,t){return t.priority-e.priority})},[t]);return B.a.createElement("ul",{className:"extensions-list"},n.map(function(e,t){var n=e.icon,r=e.name;return B.a.createElement("li",{className:"extensions-list-item",key:t},n&&B.a.createElement("svg",{className:"extensions-list-item__icon"},B.a.createElement("use",{xlinkHref:n})),B.a.createElement("span",{className:"extensions-list-item__name"},r),B.a.createElement("ul",{className:"devices-list"},N.map(function(e,t){var n=e.deviceIcon,r=e.type;return B.a.createElement("li",{className:"devices-list-item devices-list-item--".concat(r),key:t},B.a.createElement("a",{className:"devices-list-item__link",href:"#"},B.a.createElement("svg",null,B.a.createElement("use",{xlinkHref:n}))))})))}))}var g=Object(L.memo)(p),N=["pc","tablet","phone"].map(function(e){return{deviceIcon:T(290)("./".concat(e,".svg")).default,type:e}});h.displayName="BookExtensions";function C(){var e=Object(Y.b)("book.count"),t=q()(e,3),n=t[0].value,r=t[2].setValue,a=Object(L.useCallback)(function(){return r(n+1)},[n]),c=Object(L.useCallback)(function(){return r(Math.max(1,n-1))},[n]);return B.a.createElement("div",{className:"counter"},B.a.createElement("button",{className:"counter__btn counter__btn--minus",type:"button",onClick:c},B.a.createElement("svg",null,B.a.createElement("use",{xlinkHref:T(297).default}))),B.a.createElement("p",{className:"counter__value"},n),B.a.createElement("button",{className:"counter__btn counter__btn--plus",type:"button",onClick:a},B.a.createElement("svg",null,B.a.createElement("use",{xlinkHref:T(298).default}))))}var k=Object(L.memo)(h);C.displayName="Counter";function _(e){var t=e.items,n=Object(Y.b)("book.lang"),r=q()(n,3),a=r[0].value,c=r[2].setValue,l=Object(L.useCallback)(function(e,t){return t.preventDefault(),c(e)},[]),o=Object(L.useMemo)(function(){return t.map(function(e){switch(e){case M.RU:return{text:"Рус",value:e,priority:3};case M.UA:return{text:"Укр",value:e,priority:2};case M.EN:return{text:"Eng",value:e,priority:1};default:return null}}).filter(Boolean).sort(function(e,t){return t.priority-e.priority})},[t]),i=Object(L.useMemo)(function(){return o.map(function(e,t){var n=e.text,r=e.value;return B.a.createElement("li",{className:R()("langs-item",{active:r===a}),key:t},B.a.createElement("a",{className:"langs-item__link",href:"#",onClick:l.bind(null,r)},n))})},[o,a]);return B.a.createElement("ul",{className:"langs"},i)}var w=Object(L.memo)(C),M=Object.freeze({RU:"ru",UA:"ua",EN:"en"}),P={items:i.a.arrayOf(i.a.string).isRequired};_.displayName="Langs",_.propTypes=P;var S=Object(L.memo)(_),Z=T(114),z=Object.freeze({USER_INFORMATION:"user_information",DELIVERY:"delivery",PAYMENT:"payment"}),K=Object.freeze({COURIER:"courier",NOVA_POCHTA:"novaposhta",UKR_POCHTA:"ukrposhta"}),W=Object.freeze({DEPARTAMENT:"departament",COURIER:"courier"}),H=T(195),A=T(5),x=T.n(A),V=T(90),I=T.n(V),D=T(331),U=T(329),F=T(320),X=T(321),J=T(322),G=T(323);function Q(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function $(e){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(n),!0).forEach(function(e){x()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({completed:!1,loading:!1,success:!1,error:!1,message:!1},0<arguments.length&&void 0!==e?e:{})}var ee,te,ne="order.post",re=Object.freeze({PAPER:"paper",TEXT:"text",AUDIO:"audio"}),ae=Object.freeze((ee={},x()(ee,re.PAPER,[z.USER_INFORMATION,z.DELIVERY,z.PAYMENT]),x()(ee,re.TEXT,[z.USER_INFORMATION,z.PAYMENT]),x()(ee,re.AUDIO,[z.USER_INFORMATION,z.PAYMENT]),ee)),ce=Object.freeze({CARD:"card",NO:"no"}),le=T(325),oe=Object(le.a)({SET_DISPLAY_MACHINE:function(e,t){return{displayMachine:e,params:t}},UPDATE_DISPLAY_MACHINE:function(e,t){return{displayMachine:e,overrides:t}},UPDATE_DISPLAY_MACHINE_KEY:function(e,t,n){return{displayMachine:e,key:t,value:n}},REMOVE_DISPLAY_MACHINE:function(e){return e},SET_BOOK:function(e,t){return{key:e,book:t}},SET_DELIVERY:function(e,t,n){return{type:e,cities:t,departaments:n}}}),ie=T(327),ue=T(62);function se(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function me(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?se(Object(n),!0).forEach(function(e){x()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var pe={displayMachines:{},book:{},delivery:{}},de=Object(ie.a)((te={},x()(te,oe.setDisplayMachine,function(e,t){var n=t.payload,r=n.displayMachine,a=n.params;return Object(ue.a)(e,function(e){e.displayMachines[r]=a})}),x()(te,oe.updateDisplayMachine,function(e,t){var n=t.payload,r=n.displayMachine,a=n.overrides;return Object(ue.a)(e,function(e){var t=e.displayMachines[r];e.displayMachines[r]=me(me({},t),a)})}),x()(te,oe.updateDisplayMachineKey,function(e,t){var n=t.payload,r=n.displayMachine,a=n.key,c=n.value;return Object(ue.a)(e,function(e){e.displayMachines[r][a]=c})}),x()(te,oe.removeDisplayMachine,function(e,t){var n=t.payload;return Object(ue.a)(e,function(e){delete e.displayMachines[n]})}),x()(te,oe.setBook,function(e,t){var n=t.payload,r=n.key,a=n.book;return Object(ue.a)(e,function(e){e.book[r]=a})}),x()(te,oe.setDelivery,function(e,t){var n=t.payload,r=n.cities,a=n.departaments,c=n.type;return Object(ue.a)(e,function(e){e.delivery[c]={cities:r,departaments:a}})}),te),pe),be=T(194),fe=T.n(be);function ve(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Oe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ve(Object(n),!0).forEach(function(e){x()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ye(e){var t=e.children,n=Object(L.useReducer)(de,pe),r=q()(n,2),a=r[0],i=r[1],c=Object(L.useCallback)(function(e,t){return i(oe.setDisplayMachine(t,$({loading:!0}))),e.then(function(e){return e.json()}).then(function(e){return i(oe.updateDisplayMachineKey(t,"success",!0)),e}).catch(function(e){i(oe.updateDisplayMachine(t,{error:!0,message:e.message}))}).finally(function(){i(oe.updateDisplayMachine(t,{loading:!1,completed:!0}))})},[]),l=Object(L.useCallback)(function(o){c(fetch("".concat(Ne,"/api/book/").concat(o)),"book.fetch").then(function(e){var t=e.data,n=t.pre_order,r=t.sub_title,a=t.types,c=I()(t,["pre_order","sub_title","types"]),l=Oe({preOrder:n,subTitle:r,types:Object(d.a)(D.a,Object(O.a)(function(e){var t=q()(e,2),n=(t[0],t[1]);return x()({},n.type,n)}),y.a,Object(b.a)(U.a,[Object(j.a)(["audio","type"]),re.AUDIO]),Object(b.a)(U.a,[Object(j.a)(["electronic","type"]),re.TEXT]),Object(b.a)(U.a,[Object(j.a)(["paper","type"]),re.PAPER]),Object(b.a)(F.a,[function(e,t){return Oe({id:t,name:e.type},I()(e,["type"]))}]))(a)},c);i(oe.setBook(o,l))})},[i]),o=Object(L.useCallback)(function(a){c(fetch("".concat(Ne,"/api/delivery/").concat(a)),"delivery.fetch").then(function(e){var t=e.data,n=Object(d.a)(X.a,Object(O.a)(function(e){return[e.id,Object(d.a)(Object(J.a)(["departments"]),Object(U.a)(Object(G.a)("departaments"),Object(d.a)(Object(O.a)(Object(H.a)("id")),Object(H.a)("departments"))(e)))(e)]}))(t),r=Object(d.a)(X.a,Object(O.a)(function(t){return[Object(H.a)("id",t),Object(d.a)(X.a,Object(O.a)(function(e){return[Object(H.a)("id",e),Object(U.a)(Object(G.a)("cityID"),Object(H.a)("id",t),e)]}),Object(H.a)("departments"))(t)]}))(t);i(oe.setDelivery(a,n,r))})},[i]),u=Object(L.useCallback)(function(r,a){r.payment.type===ce.CARD?(i(oe.setDisplayMachine(ne,$({loading:!0}))),fetch("".concat(Ne,"/api/checkout"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(function(e){return e.json()}).then(function(e){var t,n,p,d,b;if(e.token)return n=a,p=(t=r).book,d=t.payment,b=n.name,new Promise(function(e,t){if(!window.Wayforpay)return t(new Error("Платіжна система недоступна"));var n=new window.Wayforpay,r="test_merch_n1",a=window.location.origin,c=Date.now(),l=String(Math.round(Date.now()/1e3)),o=(d.price-d.discount*d.price/100)*p.count,i="UAH",u=b,s=p.count,m=[r,a,c,l,o,i,u,s,d.price].join(";");n.run({merchantAccount:r,orderReference:c,merchantDomainName:a,authorizationType:"SimpleSignature",merchantSignature:fe()(m,"26dee50710c40334688adc790c63c3d5ae84ac6e"),orderDate:l,amount:o,currency:i,productName:u,productPrice:productPrice,productCount:s,clientFirstName:clientFirstName,clientLastName:" - ",clientEmail:clientEmail,clientPhone:clientPhone,merchantTransactionSecureType:"AUTO"},e,t),window.addEventListener("WfpWidgetEventClose",function e(){t(new Error(void 0)),window.removeEventListener("WfpWidgetEventClose",e)},!1)});throw new Error("Ошибка создания заказа")}).then(console.log)):c(fetch("".concat(Ne,"/api/checkout"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),ne)},[i]),s=Object(L.useMemo)(function(){return{getBook:l,getDeliveryInformation:o,createOrder:u}},[l,o,u]),m=Object(L.useMemo)(function(){return{methods:s,store:a}},[a,s]);return B.a.createElement(he,{value:m},t)}function Ee(){return Object(L.useContext)(je)}var je,he=(je=Object(L.createContext)()).Provider,ge={children:i.a.element},Ne="https://insomvita.com";ye.displayName="ApiProvider",ye.propTypes=ge;function Ce(e,t){var n=Ee().store,r=Object(L.useMemo)(function(){return Object(j.a)(["delivery",e,"cities",t])},[t,e]);return Object(L.useMemo)(function(){return Object(E.a)(r,n)},[r,Object(H.a)("delivery",n)])}function ke(e,t,n){var r=Ee().store,a=Object(L.useMemo)(function(){return Object(j.a)(["delivery",e,"departaments",t,n])},[t,n,e]);return Object(L.useMemo)(function(){return Object(E.a)(a,r)},[a,Object(H.a)("delivery",r)])}function _e(){var e=Object(L.useState)(null),t=q()(e,2),n=t[0],r=t[1],a=Object(L.useState)(0),c=q()(a,2),l=c[0],o=c[1],i=Object(L.useCallback)(function(e){var t=window.getComputedStyle(e,null);return["margin-top","margin-bottom","border-top-width","border-bottom-width"].map(function(e){return Number.parseInt(t.getPropertyValue(e))}).reduce(function(e,t){return e+t},Number(e.clientHeight))},[]),u=Object(L.useCallback)(function(e){var t=window.innerHeight,n=e.getClientRects()[0];return t<n.y+n.height},[]),s=Object(L.useCallback)(function(e){var t=window.getComputedStyle(e,null),n=["padding-top","padding-bottom"].map(function(e){return Number.parseInt(t.getPropertyValue(e))}).reduce(function(e,t){return e-t},Number(e.clientHeight)),r=Array.from(e.childNodes),a=r.find(function(e){return e.classList.contains("orderInfo-wrapper")}),c=r.filter(function(e){return e!==a}).reduce(function(e,t){return e+i(t)},0),l=n-(u(e)?a.clientHeight:0)-c;return Math.max(100,l)},[]);return Object(L.useEffect)(function(){function e(){var e=s(n);o(e)}if(n)return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[n]),Object(L.useEffect)(function(){setTimeout(function(){return r(document.querySelector(".column.column--left"))},0)},[]),l}function we(){var e=Object(Y.b)("user.name"),t=q()(e,1)[0].value,n=Object(Y.b)("user.sName"),r=q()(n,1)[0].value,a=Object(Y.b)("user.phone"),c=q()(a,1)[0].value,l=Object(Y.b)("user.email"),o=q()(l,1)[0].value,i=Object(Y.b)("delivery.user.street"),u=q()(i,1)[0].value,s=Object(Y.b)("delivery.user.house"),m=q()(s,1)[0].value,p=Object(Y.b)("delivery.user.door"),d=q()(p,1)[0].value,b=Object(Y.b)("delivery.user.room"),f=q()(b,1)[0].value,v=Object(Y.b)("delivery.user.level"),O=q()(v,1)[0].value,y=Object(Y.b)("delivery.user.city"),E=q()(y,1)[0].value,j=Object(Y.b)("delivery.user.departament"),h=q()(j,1)[0].value,g=Object(Y.b)("steps.completed"),N=q()(g,1)[0].value,C=Object(Y.b)("delivery.type"),k=q()(C,1)[0].value,_=Object(Y.b)("delivery.subType"),w=q()(_,1)[0].value,M=Object(Y.b)("payment.price"),P=q()(M,1)[0].value,T=Object(Y.b)("promo"),R=q()(T,1)[0].value,S=Object(Y.b)("book.count"),H=q()(S,1)[0].value,A=_e(),x=Ce(k,E),V=ke(k,E,h),I=Object(L.useMemo)(function(){switch(k){case K.COURIER:return"Курьер";case K.NOVA_POCHTA:return"Новая почта";case K.UKR_POCHTA:return"Укр почта"}},[k]),D=Object(L.useMemo)(function(){return[u&&"вул. ".concat(u),m&&"буд. ".concat(m)].filter(Boolean).join(", ")},[u,m]),U=Object(L.useMemo)(function(){return[d&&"під. ".concat(d),f&&"кв. ".concat(f),O&&"пов. ".concat(O)].filter(Boolean).join(", ")},[d,f,O]),F=Object(L.useMemo)(function(){var e=(R||{}).discount;return(P-(void 0===e?0:e))*H},[P,R,H]);return B.a.createElement(B.a.Fragment,null,B.a.createElement("div",{className:"orderInfo-wrapper",style:{height:A}},B.a.createElement("hr",{className:"delivery-separator delivery-separator--no-offset"}),B.a.createElement(Z.a,{style:{height:"100%"}},B.a.createElement("div",{className:"orderInfo-list"},N.includes(z.USER_INFORMATION)&&B.a.createElement(B.a.Fragment,null,B.a.createElement("p",{className:"orderInfo-list-item"},B.a.createElement("span",null,"Ім’я Прізвище:"),B.a.createElement("span",null,t," ",r)),B.a.createElement("p",{className:"orderInfo-list-item"},B.a.createElement("span",null,"Телефон:"),B.a.createElement("span",null,c)),B.a.createElement("p",{className:"orderInfo-list-item"},B.a.createElement("span",null,"E-mail:"),B.a.createElement("span",null,o))),(w===W.COURIER||k===K.COURIER)&&B.a.createElement(B.a.Fragment,null,B.a.createElement("p",{className:"orderInfo-list-item"},B.a.createElement("span",null,"Спосіб доставки:"),B.a.createElement("span",null,I)),B.a.createElement("p",{className:"orderInfo-list-item"},B.a.createElement("span",null,"Адреса:"),B.a.createElement("span",{className:"orderInfo-list-item__text--address"},D,D&&U&&B.a.createElement("br",null),U))),w===W.DEPARTAMENT&&B.a.createElement(B.a.Fragment,null,B.a.createElement("hr",{className:"delivery-separator"}),B.a.createElement("p",{className:"orderInfo-list-item"},B.a.createElement("span",null,"Доставка:"),B.a.createElement("span",null,I)),x&&B.a.createElement("p",{className:"orderInfo-list-item"},B.a.createElement("span",null,"Місто доставки:"),B.a.createElement("span",null,x.name)),V&&B.a.createElement("p",{className:"orderInfo-list-item"},B.a.createElement("span",null,"Відділення:"),B.a.createElement("span",null,V.name)))))),B.a.createElement("div",{className:"orderInfo-payment"},B.a.createElement("p",{className:"orderInfo-payment-item"},B.a.createElement("span",null,"Разом:"),B.a.createElement("span",{className:"orderInfo-payment-item__text--blue"},F,"грн"))))}we.displayName="OrderInfo";function Me(e){var a=e.enabledSteps,c=e.completedSteps,n=e.onChange,t=Object(Y.b)("book.type"),r=q()(t,1)[0].value,l=Object(L.useMemo)(function(){switch(r){case re.PAPER:return[z.USER_INFORMATION,z.DELIVERY,z.PAYMENT];default:return[z.USER_INFORMATION,z.PAYMENT]}},[r]),o=Object(L.useCallback)(function(e,t){return t.preventDefault(),n(e)},[n]);return B.a.createElement("ul",{className:"steps-list"},l.map(function(e,t){var n=a.includes(e),r=c.includes(e);return[Boolean(t)&&B.a.createElement("li",{className:R()("steps-list__line",{enabled:n,completed:r}),key:"item-line__".concat(e)}),B.a.createElement("li",{className:R()("steps-list-item",{enabled:n,completed:r}),key:"item__".concat(e)},B.a.createElement("a",{className:"steps-list-item__link",href:"#",onClick:o.bind(null,e)},B.a.createElement("svg",null,B.a.createElement("use",{xlinkHref:Re[e]}))))]}))}var Pe,Te=Object(L.memo)(we),Re=(Pe={},x()(Pe,z.USER_INFORMATION,T(302).default),x()(Pe,z.DELIVERY,T(303).default),x()(Pe,z.PAYMENT,T(304).default),Pe),Se={completedSteps:i.a.arrayOf(i.a.oneOf(Object.values(z))).isRequired,enabledSteps:i.a.arrayOf(i.a.oneOf(Object.values(z))).isRequired,onChange:i.a.func.isRequired};Me.displayName="StepsList",Me.propTypes=Se;function He(e){function o(e,t){var n=w.indexOf(e);return-1<n&&("next"===t?w[n+1]:w[n-1])||null}var t=e.children,n=e.onUpdateActiveStep,r=Object(Y.b)("steps.active"),a=q()(r,3),c=a[0].value,i=a[2].setValue,l=Object(Y.b)("steps.completed"),u=q()(l,3),s=u[0].value,m=u[2].setValue,p=Object(Y.b)("steps.enabled"),d=q()(p,3),b=d[0].value,f=d[2].setValue,v=Object(Y.b)("book.type"),O=q()(v,1)[0].value,y=Object(Y.c)(),E=y.errors,j=y.values,h=y.setFieldTouched,g=E.user,N=E.delivery,C=E.payment,k=j.user,_=j.delivery.user,w=Object(L.useMemo)(function(){return ae[O]||[]},[O]),M=Object(L.useMemo)(function(){return w.every(function(e){return s.includes(e)})},[s,w]),P=Object(L.useCallback)(function(e){if(b.includes(e))i(e);else switch(o(e,"prev")){case z.USER_INFORMATION:for(var t=0,n=Object.keys(k);t<n.length;t++){var r=n[t];h("user.".concat(r),!0)}break;case z.DELIVERY:for(var a=0,c=Object.keys(_);a<c.length;a++){var l=c[a];h("delivery.user.".concat(l),!0)}}},[b,k,_]),T=Object(L.useCallback)(function(){var e=o(c,"next");e&&P(e)},[c,P]),R=Object(L.useCallback)(function(){var e=o(c,"prev");e&&P(e)},[c,P]);return Object(L.useEffect)(function(){var e=[!g&&z.USER_INFORMATION,!(null!=N&&N.user)&&z.DELIVERY,!C&&z.PAYMENT].filter(Boolean).filter(function(e){return w.includes(e)});m(e)},[w,g,null==N?void 0:N.user,C]),Object(L.useEffect)(function(){var e=w.filter(function(e,t){var n=w[t-1];return!n||s.includes(n)});f(e)},[s]),Object(L.useEffect)(function(){var e;[b,s].some(function(e){return!e.includes(c)})&&(e=w.find(function(e){return!s.includes(e)})||Ve()(s).sort(function(e,t){return w.indexOf(e)-w.indexOf(t)})[s.length-1],i(e))},[w,s,b]),Object(L.useEffect)(function(){n()},[c]),t(Object(L.useMemo)(function(){return{active:c,completed:s,enabled:b,nextActiveStep:T,prevActiveStep:R,setActiveStep:P,completedFillForm:M}},[c,s,b,T,P,M,R]))}var Ae=Object(L.memo)(Me),xe=T(11),Ve=T.n(xe);He.displayName="StepControler",He.defaultProps={onUpdateActiveStep:function(){}};var Ie=Object(L.memo)(He),De=T(40),Ue=T.n(De),Fe={className:i.a.node,error:i.a.node,name:i.a.string,value:i.a.oneOfType([i.a.string,i.a.number]),placeholder:i.a.string,readOnly:i.a.bool,onChange:i.a.func,onBlur:i.a.func},Le=Object(L.forwardRef)(function(e,t){var n=e.className,r=e.error,a=e.name,c=e.placeholder,l=e.readOnly,o=e.value,i=e.onChange,u=e.onBlur,s=Object(L.useCallback)(function(e){return i(e,e.target.value)},[i]),m=Object(L.useCallback)(function(e){return u(e)},[i]);return B.a.createElement("div",{className:"control".concat(r?" control--error":""," ").concat(n)},B.a.createElement("input",{autoComplete:"off",ref:t,readOnly:l,className:"control__element control__element--input",name:a,placeholder:c,type:"text",value:o,onBlur:m,onChange:s}),r&&B.a.createElement("span",{className:"control__error"},r))});Le.displayName="Input",Le.propTypes=Fe,Le.defaultProps={name:"",placeholder:"",readOnly:!1,onChange:function(){},onBlur:function(){}};function Be(e){var t=e.name,n=e.placeholder,r=Object(Y.b)("user.".concat(t)),a=q()(r,3),c=a[0],l=a[1];return a[2],B.a.createElement(qe,Ue()({className:"userInformation-controls__elements",error:l.touched&&l.error,placeholder:n},c))}var qe=Object(L.memo)(Le);Be.displayName="UserInformationInput";function Ye(){var e=Object(Y.b)("book.type"),t=q()(e,1)[0].value;return B.a.createElement("div",{className:"userInformation-controls"},t===re.PAPER&&B.a.createElement(B.a.Fragment,null,B.a.createElement(Be,{name:"name",placeholder:"Им’я"}),B.a.createElement(Be,{name:"sName",placeholder:"Прізвище"}),B.a.createElement(Be,{name:"phone",placeholder:"Телефон"})),B.a.createElement(Be,{name:"email",placeholder:"E-mail"}))}Ye.displayName="UserInfromation";function Ze(){var e=Object(L.useMemo)(function(){return[{type:K.COURIER,name:"Кур`ером"},{type:K.NOVA_POCHTA,name:"Нова Пошта"},{type:K.UKR_POCHTA,name:"УкрПошта"}]},[]);return Object(L.useMemo)(function(){return{list:e}},[e])}function ze(){var e=Ze().list,t=Object(Y.b)("delivery.type"),n=q()(t,3),r=n[0].value,a=n[2].setValue,c=Object(Y.b)("delivery.subType"),l=q()(c,3),o=l[0].value,i=l[2].setValue,u=Object(L.useCallback)(function(e,t){return t.preventDefault(),i(e)},[i]),s=Object(L.useCallback)(function(e,t){return t.preventDefault(),a(e),e!==K.COURIER&&i(W.DEPARTAMENT)},[a]);return B.a.createElement(B.a.Fragment,null,B.a.createElement("ul",{className:"delivery-types-list"},e.map(function(e){var t=e.type,n=e.name;return B.a.createElement("li",{className:"delivery-types-list-item",key:t},B.a.createElement("a",{className:R()("delivery-types-list-item__link",{active:r===t}),href:"#",onClick:s.bind(null,t)},Je[t]&&B.a.createElement("svg",null,B.a.createElement("use",{xlinkHref:Je[t]})),n))})),Ge.includes(r)&&B.a.createElement("ul",{className:"delivery-types-list delivery-types-list--offset-top"},Qe[r].map(function(e){var t=e.text,n=e.type;return B.a.createElement("li",{className:"delivery-types-list-item",key:n},B.a.createElement("a",{className:R()("delivery-types-list-item__link",{active:n===o}),href:"#",onClick:u.bind(null,n)},t))})))}var Ke,We,Xe=Object(L.memo)(Ye),Je=Object.freeze((Ke={},x()(Ke,K.COURIER,T(305).default),x()(Ke,K.NOVA_POCHTA,T(306).default),x()(Ke,K.UKR_POCHTA,T(307).default),Ke)),Ge=[K.NOVA_POCHTA,K.UKR_POCHTA],Qe=Object.freeze((We={},x()(We,K.NOVA_POCHTA,[{text:"З відділеня Нової Пошти",type:W.DEPARTAMENT},{text:"Кур’єром Нової Пошти",type:W.COURIER}]),x()(We,K.UKR_POCHTA,[{text:"З відділеня УкрПошти",type:W.DEPARTAMENT},{text:"Кур’єром УкрПошти",type:W.COURIER}]),We));ze.displayName="DeliveryTypes";function $e(){var e=Object(Y.c)(),r=e.values,a=e.setFieldValue,t=r.delivery;return Object(L.useEffect)(function(){var e=r.user,t=e.name,n=e.sName;a("delivery.user.name",t),a("delivery.user.sName",n)},[]),Object(L.useEffect)(function(){t.type===K.COURIER&&a("delivery.subType",null)},[t.type]),null}var et=Object(L.memo)(ze);$e.displayName="DeliveryMiddleware";function tt(e){var t=e.deliveryType;return B.a.createElement(B.a.Fragment,null,B.a.createElement(nt,null),B.a.createElement("div",{className:"courier-form courier-form--".concat(t)},B.a.createElement(rt,{name:"name",placeholder:"Имя"}),B.a.createElement(rt,{name:"sName",placeholder:"Фамилия"}),t!==K.COURIER&&B.a.createElement(rt,{name:"tName",placeholder:"Отчество"}),B.a.createElement(rt,{name:"city",placeholder:"Город"}),B.a.createElement(rt,{name:"street",placeholder:"Улица"}),B.a.createElement("div",{className:"courier-form-group"},B.a.createElement(rt,{name:"house",placeholder:"Дом"}),B.a.createElement(rt,{name:"door",placeholder:"Подьезд"})),B.a.createElement("div",{className:"courier-form-group"},B.a.createElement(rt,{name:"room",placeholder:"Квартира"}),B.a.createElement(rt,{name:"level",placeholder:"Этаж"}))))}var nt=Object(L.memo)($e),rt=Object(L.memo)(function(e){var t=e.name,n=e.placeholder,r=Object(Y.b)("delivery.user.".concat(t)),a=q()(r,2),c=a[0],l=a[1];return B.a.createElement(qe,Ue()({className:"courier-form__elements courier-form__elements--".concat(t),error:l.touched&&l.error,placeholder:n},c))});tt.displayName="CourierForm";function at(e){var t=e.options,n=e.value,r=e.onChange,a=Object(L.useState)(!0),c=q()(a,2),l=c[0],o=c[1],i=Object(L.useCallback)(function(){return o(function(e){return!e})},[]),u=Object(L.useMemo)(function(){return t.find(function(e){return e.value===n})},[n,t]);return Object(L.useEffect)(function(){if(!l){var e=function(){return o(!0)};return window.addEventListener("click",e),function(){return window.removeEventListener("click",e)}}},[l]),B.a.createElement("div",{className:R()("select",{close:l}),onClick:i},B.a.createElement(qe,{readOnly:!0,className:"select-control",value:(null==u?void 0:u.content)||""}),B.a.createElement("svg",{className:"select__btn"},B.a.createElement("use",{xlinkHref:T(308).default})),B.a.createElement("div",{className:"select-options"},B.a.createElement(Z.a,{style:{maxHeight:140}},B.a.createElement("div",null,t.map(function(e){return B.a.createElement("span",{className:R()("select-options__item",{active:n===e.value}),key:e.value,onClick:r.bind(null,e)},e.content)})))))}var ct=Object(L.memo)(tt);at.displayName="Select",at.defaultProps={value:1,options:[{value:1,content:"№ 1 ул.Пироговский путь, 154"},{value:2,content:"№2 ул.Бережанская, 9 ( Оболонь Лугова )"},{value:3,content:"№3 ул.Калачевская, 13 ( Старая "},{value:4,content:"№3 ул.Калачевская, 13 ( Старая "},{value:5,content:"№3 ул.Калачевская, 13 ( Старая "},{value:6,content:"№3 ул.Калачевская, 13 ( Старая "},{value:7,content:"№3 ул.Калачевская, 13 ( Старая "}],onChange:function(){}};function lt(t){return function(p){function e(e){var t=e.options,n=I()(e,["options"]),r="delivery.user.".concat(d),a=Object(Y.b)(r),c=q()(a,3),l=c[0],o=c[2],i=l.value,u=o.setValue,s=Object(L.useMemo)(function(){return t.map(function(e){return{value:e.id,content:e.name}})},[t]),m=Object(L.useCallback)(function(e){var t=e.value;return u(t)},[u]);return Object(L.useEffect)(function(){s.length&&u(s[0].value)},[s]),B.a.createElement(p,Ue()({},n,{options:s,value:i,onChange:m}))}var d=t.name;return e.displayName="withSelect",Object(L.memo)(e)}}function ot(e){var t=e.name,n=e.placeholder,r=Object(Y.b)("delivery.user.".concat(t)),a=q()(r,2),c=a[0],l=a[1];return B.a.createElement(qe,Ue()({className:"departament-form__element departament-form__element--".concat(t),error:l.touched&&l.error,placeholder:n},c))}function it(e){var t,n,r,a,c,l,o,i,u,s=e.deliveryType,m=(t=s,n=Ee(),r=n.methods,a=n.store,c=Object(L.useMemo)(function(){return[Object(E.a)(Object(j.a)(["delivery",t,"cities"]),a),Object(E.a)(Object(j.a)(["delivery",t,"departaments"]),a)]},[a,t]),l=q()(c,2),o=l[0],i=l[1],u=Object(L.useMemo)(function(){return{cities:{list:Object.values(o||[])},departaments:i}},[o,i]),Object(L.useEffect)(function(){o&&i||r.getDeliveryInformation(t)},[t]),u),p=m.cities,d=m.departaments,b=Object(Y.b)("delivery.user.city"),f=q()(b,1)[0].value,v=Object(L.useMemo)(function(){return null!=d&&d[f]?Object.values(d[f]):[]},[d,f]),O=Object(L.useMemo)(function(){return lt({name:"city"})(ut)},[]),y=Object(L.useMemo)(function(){return lt({name:"departament"})(ut)},[]);return B.a.createElement("div",{className:"departament-form"},B.a.createElement(O,{options:p.list}),B.a.createElement(y,{options:v}),B.a.createElement(ot,{name:"name",placeholder:"Имя"}),B.a.createElement(ot,{name:"sName",placeholder:"Фамилия"}),B.a.createElement(ot,{name:"tName",placeholder:"Отчество"}))}var ut=Object(L.memo)(at);it.displayName="DepartamentForm";function st(){var e=Object(Y.b)("delivery.type"),t=q()(e,1)[0].value,n=Object(Y.b)("delivery.subType"),r=q()(n,1)[0].value;return B.a.createElement(B.a.Fragment,null,(t===K.COURIER||r===W.COURIER)&&B.a.createElement(ct,{deliveryType:t}),[K.NOVA_POCHTA,K.UKR_POCHTA].includes(t)&&B.a.createElement(B.a.Fragment,null,r===W.DEPARTAMENT&&B.a.createElement(mt,{deliveryType:t})))}var mt=Object(L.memo)(it);st.displayName="FormControler";function pt(){var r=Ze().list,e=Object(Y.b)("delivery.type"),t=q()(e,3),c=t[0].value,n=t[2].setValue,a=Object(Y.b)("delivery.subType"),l=q()(a,3),o=l[0].value,i=l[2].setValue,u=Object(L.useRef)(matchMedia("(max-width: 480px)")).current,s=Object(L.useState)(u.matches),m=q()(s,2),p=m[0],d=m[1],b=Object(L.useCallback)(function(e,t){return t.preventDefault(),i(e)},[i]),f=Object(L.useCallback)(function(e,t){return t.preventDefault(),n(e),e!==K.COURIER&&i(W.DEPARTAMENT)},[n]);return Object(L.useEffect)(function(){function e(e){var t=e.matches;return d(t)}return u.addListener(e),function(){return u.removeListener(e)}},[]),B.a.createElement(B.a.Fragment,null,B.a.createElement("ul",{className:"delivery-types-list"},r.map(function(e,t){var a=e.type,n=e.name;return[B.a.createElement("li",{className:"delivery-types-list-item",key:a},B.a.createElement("a",{className:R()("delivery-types-list-item__link",{active:c===a}),href:"#",onClick:f.bind(null,a)},Je[a]&&B.a.createElement("svg",null,B.a.createElement("use",{xlinkHref:Je[a]})),n)),Ge.includes(c)&&c===a&&B.a.createElement("li",{className:"delivery-types-list-item--group",key:"".concat(a,"-group")},B.a.createElement("ul",{className:"delivery-types-list delivery-types-list--offset-top"},Qe[c].map(function(e,t){var n=e.text,r=e.type;return[B.a.createElement("li",{className:R()("delivery-types-list-item",{"delivery-types-list-item--padding-bottom-15":p&&c===a&&r!==o&&Qe[c].length-1===t}),key:r},B.a.createElement("a",{className:R()("delivery-types-list-item__link",{active:r===o}),href:"#",onClick:b.bind(null,r)},n)),p&&c===a&&r===o&&B.a.createElement("li",{className:R()("delivery-types-list-item--group delivery-types-list-item--form--".concat(a),{"delivery-types-list-item--group--padding-bottom-5":Qe[c].length-1>t}),key:"".concat(a,"-form")},B.a.createElement(dt,null))]})),p&&c===a&&t!==r.length-1&&B.a.createElement("hr",{className:R()("delivery-types-list__line")})),(!p||c===K.COURIER)&&c===a&&B.a.createElement("li",{className:"delivery-types-list-item--group delivery-types-list-item--form--".concat(a),key:"".concat(a,"-form")},B.a.createElement(dt,null),t!==r.length-1&&B.a.createElement("hr",{className:"delivery-types-list__line"}))]})))}var dt=Object(L.memo)(st);pt.displayName="DeliveryTypesMobile";function bt(){var e=Object(Y.b)("payment.type"),t=q()(e,3),n=t[0].value,r=t[2].setValue,a=Object(Y.b)("book.type"),c=q()(a,1)[0].value,l=Object(L.useCallback)(function(e,t){return t.preventDefault(),r(e)},[r]);return B.a.createElement("ul",{className:"payments-list"},B.a.createElement("li",{className:"payments-list-item"},B.a.createElement("a",{className:R()("payments-list-item-link",{active:n===ce.CARD}),href:"#",onClick:l.bind(null,ce.CARD)},B.a.createElement("span",{className:"payments-list-item-link__icon"},B.a.createElement("svg",{className:"mastercard"},B.a.createElement("use",{xlinkHref:T(309).default})),B.a.createElement("svg",{className:"visa"},B.a.createElement("use",{xlinkHref:T(310).default}))),B.a.createElement("span",{className:"payments-list-item-link__text"},"mastercard",B.a.createElement("br",null),"visa"))),c===re.PAPER&&B.a.createElement("li",{className:"payments-list-item"},B.a.createElement("a",{className:R()("payments-list-item-link",{active:n===ce.NO}),href:"#",onClick:l.bind(null,ce.NO)},B.a.createElement("span",{className:"payments-list-item-link__icon"},B.a.createElement("svg",{className:"no"},B.a.createElement("use",{xlinkHref:T(311).default}))),B.a.createElement("span",{className:"payments-list-item-link__text"},"післяплата"))))}var ft=Object(L.memo)(pt);bt.displayName="Payment";function vt(e){var t=e.paymentType,n=Object(L.useMemo)(function(){return t===ce.CARD?'Ваш файл був викачаний до вас на комп\'ютер, перевірте папку "завантаження"':"Спасибо ваш заказ принят"},[t]);return B.a.createElement("div",{className:"thanks visible"},B.a.createElement("div",{className:"order-success-container"},B.a.createElement("h1",{className:"order-success__title"},"ДЯКУЮ, ВИ НЕЙМОВІРНІ!"),new Array(3).fill(0).map(function(e,t){return B.a.createElement("svg",{className:"order-success__like",key:t},B.a.createElement("use",{xlinkHref:T(312).default}))})),B.a.createElement("p",{className:"order-success__text"},n),B.a.createElement("a",{className:"order-success__btn",href:"/"},"Ок"))}var Ot=Object(L.memo)(bt);vt.displayName="OrderSuccess";var yt=Object(L.memo)(vt),Et=T(196);function jt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jt(Object(n),!0).forEach(function(e){x()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function gt(e){var t,n,r,a,c,l,o,i,u,s,m,p,d,b,f=e.show,v=Object(Y.b)("promo"),O=q()(v,3)[2].setValue,y=Object(L.useState)(!1),E=q()(y,2),j=E[0],h=E[1],g=(t=Object(L.useState)(null),n=q()(t,2),r=n[0],a=n[1],c=Object(L.useState)(""),l=q()(c,2),o=l[0],i=l[1],u=Object(L.useState)(x()({},o,$())),s=q()(u,2),m=s[0],p=s[1],d=Object(L.useMemo)(function(){return Object(Et.debounce)(i,250)},[]),b=Object(L.useMemo)(function(){return{handleChange:d,ui:m[o]||{},promo:r}},[d,m,o,r]),Object(L.useEffect)(function(){o&&(p(x()({},o,ht(ht({},$()),{},{loading:!0}))),fetch("".concat(Ne,"/api/coupon"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:o})}).then(function(e){var t=e.status;if(404===t)return e.json().then(function(e){return Promise.reject(new Error(e.message))});if(200!==t)throw new Error("Промокод с таким именем не найден!");return e.json()}).then(function(e){var n=e.message,t=e.discount;p(function(e){var t=e[o];return x()({},o,ht(ht({},t),{},{success:!0,message:n}))}),a({discount:Number(t),code:o})}).catch(function(e){var n={error:!0,message:e.message};p(function(e){var t=e[o];return x()({},o,ht(ht({},t),n))}),a(null)}).finally(function(){var n={completed:!0,loading:!1};p(function(e){var t=e[o];return x()({},o,ht(ht({},t),n))})}))},[o]),b),N=g.handleChange,C=g.promo,k=g.ui,_=Object(L.useRef)(null),w=Object(L.useCallback)(function(){return h(!0)},[]),M=Object(L.useCallback)(function(){return h(!1)},[]),P=Object(L.useCallback)(function(e,t){return N(t)},[N]);return Object(L.useEffect)(function(){j&&_.current.focus()},[j]),Object(L.useEffect)(function(){O(C)},[C]),B.a.createElement("div",{className:R()("promo",{"promo--show-control":j},{"promo--valid":k.success,"promo--no-valid":k.error,"promo--hide":!f})},B.a.createElement("svg",{className:"promo__icon",onClick:w},B.a.createElement("use",{xlinkHref:T(313).default})),B.a.createElement("div",{className:"promo-control"},B.a.createElement("svg",{className:"promo-control__icon",onClick:w},B.a.createElement("use",{xlinkHref:T(314).default})),B.a.createElement(qe,{ref:_,placeholder:"Введите промо код",onBlur:M,onChange:P}),B.a.createElement("span",{className:"promo-control__information"},k.loading&&"Проверка...",(k.error||k.success)&&k.message)))}gt.displayName="Promo";function Nt(e){var o=e.book,i=e.bookExtensions,t=e.bookLanguages,u=e.bookType,s=e.handleSubmit,n=e.ui,r=e.paymentType;return B.a.createElement(B.a.Fragment,null,B.a.createElement("section",{className:"column column--left"},B.a.createElement(v,{title:o.title,subTitle:o.subTitle,preOrder:o.preOrder,poster:o.image}),B.a.createElement(w,null),t&&B.a.createElement(S,{items:t}),B.a.createElement(Te,null)),B.a.createElement(Ie,null,function(e){var t=e.active,n=e.enabled,r=e.completed,a=e.completedFillForm,c=e.nextActiveStep,l=e.setActiveStep;return B.a.createElement("form",{className:"column column--right",onSubmit:a?s:function(e){return e.preventDefault(),c()}},B.a.createElement("h1",{className:"title"},"Оформлення замовлення"),B.a.createElement(g,{types:o.types}),B.a.createElement(Ae,{completedSteps:r,enabledSteps:n,onChange:l}),t===z.USER_INFORMATION&&B.a.createElement(B.a.Fragment,null,u===re.TEXT&&B.a.createElement(k,{items:i}),B.a.createElement(Xe,null)),t===z.DELIVERY&&B.a.createElement(B.a.Fragment,null,B.a.createElement(et,null),B.a.createElement(dt,null)),t===z.PAYMENT&&B.a.createElement(Ot,null),B.a.createElement("div",{className:"column--right-buttons"},B.a.createElement(Ct,{show:t===z.PAYMENT}),B.a.createElement("button",{className:R()("column--right__submit",{completed:a}),type:"submit"},"ОК")))}),n.success&&B.a.createElement(yt,{type:r}))}var Ct=Object(L.memo)(gt);Nt.displayName="ContainerDeskTop";function kt(){var e=Object(L.useState)(!1),t=q()(e,2),n=t[0],r=t[1],a=Object(L.useRef)(null),c=Object(Y.b)("user.name"),l=q()(c,1)[0].value,o=Object(Y.b)("user.sName"),i=q()(o,1)[0].value,u=Object(Y.b)("user.phone"),s=q()(u,1)[0].value,m=Object(Y.b)("user.email"),p=q()(m,1)[0].value,d=Object(Y.b)("delivery.user.name"),b=q()(d,1)[0].value,f=Object(Y.b)("delivery.user.sName"),v=q()(f,1)[0].value,O=Object(Y.b)("delivery.user.tName"),y=q()(O,1)[0].value,E=Object(Y.b)("delivery.type"),j=q()(E,1)[0].value,h=Object(Y.b)("delivery.user.city"),g=q()(h,1)[0].value,N=Object(Y.b)("delivery.user.departament"),C=q()(N,1)[0].value,k=Ce(j,g),_=ke(j,g,C),w=Object(L.useMemo)(function(){switch(j){case K.COURIER:return"Курьер";case K.NOVA_POCHTA:return"Новая почта";case K.UKR_POCHTA:return"Укр почта"}},[j]),M=Object(L.useMemo)(function(){return n?a.current.scrollHeight:113},[n]),P=Object(L.useCallback)(function(e){e.preventDefault(),r(function(e){return!e})},[]);return B.a.createElement("div",{className:"order-info-mobile",ref:a,style:{height:M}},B.a.createElement("hr",{className:"line order-info-mobile-line order-info-mobile-line--top"}),B.a.createElement("div",{className:"order-info-mobile-header"},B.a.createElement("span",{className:"order-info-mobile-header__text"},"Заполненная",B.a.createElement("br",null),"информация"),B.a.createElement("a",{className:R()("order-info-mobile-header__btn",{open:n}),href:"#",onClick:P},B.a.createElement("svg",null,B.a.createElement("use",{xlinkHref:T(187).default})))),B.a.createElement("div",{className:"order-info-mobile-body"},B.a.createElement("div",{className:"order-info-mobile-body-column"},B.a.createElement("span",{className:"order-info-mobile-body__title"},"информация"),B.a.createElement("ul",{className:"order-info-mobile-body-list"},B.a.createElement("li",{className:"order-info-mobile-body-list__text"},"Имя Фамилия: ",l," ",i),B.a.createElement("li",{className:"order-info-mobile-body-list__text"},"Телефон: ",s),B.a.createElement("li",{className:"order-info-mobile-body-list__text"},"E-mail: ",p))),B.a.createElement("div",{className:"order-info-mobile-body-column"},B.a.createElement("span",{className:"order-info-mobile-body__title"},"доставка"),B.a.createElement("ul",{className:"order-info-mobile-body-list"},B.a.createElement("li",{className:"order-info-mobile-body-list__text"},"ИФО: ",b," ",v," ",y),B.a.createElement("li",{className:"order-info-mobile-body-list__text"},"Тип доставки: ",w),_&&B.a.createElement("li",{className:"order-info-mobile-body-list__text"},"Отделение: ",_.name),k&&B.a.createElement("li",{className:"order-info-mobile-body-list__text"},"Город: ",k.name)))),B.a.createElement("hr",{className:"line order-info-mobile-line order-info-mobile-line--bottom"}))}var _t=Object(L.memo)(Nt);kt.displayName="OrderInfoMobile";function wt(e){var o=e.book,i=e.bookLanguages,u=e.bookType,s=e.bookExtensions,m=e.handleSubmit,t=Object(L.useState)(Pt),n=q()(t,2),p=n[0],d=n[1],b=Object(L.useCallback)(function(){document.getElementById("order-app").scrollTo({top:0})},[]),f=Object(L.useCallback)(function(){d(function(e){switch(e){case Tt:return Pt;default:return e}})},[]);return B.a.createElement(Ie,{onUpdateActiveStep:b},function(e){var t=e.active,n=e.enabled,r=e.completed,a=e.completedFillForm,c=e.nextActiveStep,l=e.setActiveStep;return B.a.createElement(B.a.Fragment,null,Pt!==p&&B.a.createElement("div",{className:"mobile-header"},B.a.createElement("button",{className:"mobile-header__btn",type:"button",onClick:f},B.a.createElement("svg",null,B.a.createElement("use",{xlinkHref:T(187).default}))),B.a.createElement("h1",{className:"title"},"Оформлення замовлення")),Pt===p&&B.a.createElement("div",{className:"mobile-poster"},B.a.createElement(v,{title:o.title,subTitle:o.subTitle,preOrder:o.preOrder,poster:o.image}),B.a.createElement(w,null),i&&B.a.createElement(S,{items:i}),B.a.createElement("hr",{className:"line"}),B.a.createElement(g,{types:o.types}),B.a.createElement("button",{className:"column--right__submit mobile-poster__buttonOk",type:"button",onClick:function(){return d(Tt),b()}},"ОК")),Tt===p&&B.a.createElement("form",{className:"column column--right",onSubmit:a?m:function(e){return e.preventDefault(),c()}},B.a.createElement(Mt,null),B.a.createElement(Ae,{completedSteps:r,enabledSteps:n,onChange:l}),t===z.USER_INFORMATION&&B.a.createElement(B.a.Fragment,null,u===re.TEXT&&B.a.createElement(k,{items:s}),B.a.createElement(Xe,null)),t===z.DELIVERY&&B.a.createElement(ft,null),t===z.PAYMENT&&B.a.createElement(Ot,null),B.a.createElement("div",{className:"column--right-buttons"},B.a.createElement(Ct,{show:t===z.PAYMENT}),B.a.createElement("button",{className:R()("column--right__submit",{completed:a}),type:"submit"},"ОК"))))})}var Mt=Object(L.memo)(kt),Pt="poster",Tt="order";wt.displayName="ContainerMobile";function Rt(){return Object(At.c)({book:Object(At.c)({type:Object(At.d)()}),user:Object(At.c)().when("book",{is:function(e){return e.type===re.PAPER},then:Object(At.c)({name:Object(At.d)().required("Поле обязательное для заполнения"),sName:Object(At.d)().required("Поле обязательное для заполнения"),phone:Object(At.d)().required("Поле обязательное для заполнения"),email:Object(At.d)().required("Поле обязательное для заполнения").email("Не валидный E-mail")}),otherwise:Object(At.c)({email:Object(At.d)().required("Поле обязательное для заполнения").email("Не валидный E-mail")})}),delivery:Object(At.b)().when("book",{is:function(e){return e.type===re.PAPER},then:Object(At.a)(function(e){var t=e.subType,n=e.type,r=t===W.COURIER||n===K.COURIER;return Object(At.c)({type:Object(At.d)().nullable(),user:Object(At.c)({name:Object(At.d)().required("Поле обязательное для заполнения"),sName:Object(At.d)().required("Поле обязательное для заполнения"),tName:t===W.DEPARTAMENT?Object(At.d)().required("Поле обязательное для заполнения"):Object(At.d)(),city:Object(At.b)().required("Поле обязательное для заполнения"),street:r?Object(At.d)().required("Поле обязательное для заполнения"):Object(At.d)(),house:r?Object(At.d)().required("Поле обязательное для заполнения"):Object(At.d)(),door:r?Object(At.d)().required("Поле обязательное для заполнения"):Object(At.d)(),room:r?Object(At.d)().required("Поле обязательное для заполнения"):Object(At.d)(),level:r?Object(At.d)().required("Поле обязательное для заполнения"):Object(At.d)(),departament:t===W.DEPARTAMENT?Object(At.b)().required("Поле обязательное для заполнения"):Object(At.b)()})})}),otherwise:Object(At.b)()}),payment:Object(At.c)({type:Object(At.d)().oneOf(Object.values(ce))})})}function St(e){var t=e.children,n=e.price,r=e.bookName,a=e.onSubmit,c=Object(L.useMemo)(function(){return{initialValues:{steps:{active:z.USER_INFORMATION,completed:[],enabled:[]},delivery:{type:null,subType:null,user:{name:"",sName:"",tName:"",city:"",departament:"",street:"",house:"",door:"",room:"",level:""}},user:{name:"",sName:"",phone:"",email:""},book:{type:re.PAPER,count:1,lang:M.RU},payment:{type:null,price:n},promo:null},validationSchema:Rt,validateOnMount:!0}},[]),l=Object(L.useMemo)(function(){return a?a.bind(null,{name:r}):a},[a,r]);return B.a.createElement(Y.a,Ue()({},c,{onSubmit:l}),t)}var Ht=Object(L.memo)(wt),At=T(7),xt={children:i.a.func.isRequired,price:i.a.number.isRequired,bookName:i.a.string.isRequired,onSubmit:i.a.func.isRequired};St.displayName="Form",St.propTypes=xt,St.defaultProps={onSubmit:function(){}};function Vt(){return Object(L.useMemo)(function(){var e,t=Object(Ut.a)("/book/:slug",{decode:decodeURIComponent})("/book/insomvita");return null==t||null===(e=t.params)||void 0===e?void 0:e.slug},[])}function It(e){var t=e.children,n=Vt();return t(Ee().store.book[n])}var Dt=Object(L.memo)(St),Ut=T(198),Ft={children:i.a.func.isRequired};It.displayName="BookProvider",It.propTypes=Ft;var Lt=Object(L.memo)(It);function Bt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function qt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bt(Object(n),!0).forEach(function(e){x()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Yt(){var e,p,n,r,d,t,a,c=(e=Ee(),p=e.methods,n=e.store,r=Vt(),d=Object(L.useMemo)(function(){var e,t;return null==n||null===(e=n.book)||void 0===e||null===(t=e[r])||void 0===t?void 0:t.types},[r,n]),t=Object(L.useMemo)(function(){return n.displayMachines[ne]},[n]),a=Object(L.useCallback)(function(e,t){var n=t.user,r=t.book,a=t.delivery,c=t.payment,l=r.type,o=r.count,i=r.lang,u=a.user,s=a.type,m={book:{count:o,lang:i,type:d[l].id},delivery:qt(qt({},u),{},{type:s}),payment:c,user:n};p.createOrder(m,e)},[d,p.createOrder]),Object(L.useMemo)(function(){return{createOrder:a,ui:t||{}}},[a,t])),l=c.createOrder,o=c.ui,i=Object(L.useRef)(matchMedia("(max-width: 767px)")).current,u=Object(L.useState)(i.matches),s=q()(u,2),m=s[0],b=s[1];return Object(L.useEffect)(function(){function e(e){var t=e.matches;return b(t)}return i.addListener(e),function(){return i.removeListener(e)}},[]),B.a.createElement(B.a.Fragment,null,B.a.createElement(Lt,null,function(c){return B.a.createElement(Dt,{bookName:c.title,price:c.types[re.PAPER].price,onSubmit:o.loading?void 0:l},function(e){var t=e.handleSubmit,n=e.values,r=Object(E.a)(Object(j.a)(["types",n.book.type,"languages"]),c),a=Object(E.a)(Object(j.a)(["types",re.TEXT,"formats"]),c);return m?B.a.createElement(Ht,{book:c,bookLanguages:r,bookExtensions:a,bookType:n.book.type,handleSubmit:t}):B.a.createElement(_t,{book:c,bookExtensions:a,bookLanguages:r,bookType:n.book.type,handleSubmit:t,paymentType:n.payment.type,ui:o})})}),B.a.createElement(f,null))}Yt.displayName="Container";function Zt(e){var t=e.children,n=Ee(),r=n.methods,a=n.store,c=Vt(),l=Object(L.useMemo)(function(){return a.book[c]},[a,c]);return Object(L.useEffect)(function(){c&&r.getBook(c)},[c]),l&&t}var zt=Object(L.memo)(Yt);Zt.displayMachine="EntryContainer";var Kt=Object(L.memo)(Zt),Wt=document.getElementById("order-app"),Xt=B.a.createElement(ye,null,B.a.createElement(Kt,null,B.a.createElement(zt,null)));Wt&&Object(r.render)(Xt,Wt)}});